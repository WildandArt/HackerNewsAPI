<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hacker News API: Mini Hacker News Site RESTful API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hacker News API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Mini Hacker News Site RESTful API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This documentation covers the RESTful API for a Mini Hacker News site. To run this project, you need to install the Java JDK and set up Spring Boot.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Prerequisites</h1>
<p>Before running this project, you need to install the Java Development Kit (JDK). Follow these steps:</p>
<ol type="1">
<li>Download the latest Java JDK from the <a href="https://www.oracle.com/java/technologies/javase-jdk11-downloads.html">Oracle website</a>.</li>
<li>Install the JDK on your machine. If you need help, follow the installation instructions specific to your operating system.</li>
<li>Verify the installation by opening a terminal and running <code>java -version</code>. This should display the version of the Java JDK.</li>
</ol>
<p>Additionally, ensure that you have Maven installed to manage project dependencies. Install Maven by following the instructions on the <a href="https://maven.apache.org/install.html">Apache Maven Project website</a>.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Mini Hacker News</h1>
<p>Welcome to the Mini Hacker News project! This is a lightweight version of the popular news aggregation site tailored for simple use and ease of deployment. Built with Spring Boot, this project features a RESTful API that allows users to create, update, view, and vote on posts.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Features</h1>
<ul>
<li>Create new posts</li>
<li>Fetch top posts</li>
<li>Update existing posts</li>
<li>Upvote and downvote posts</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Installation</h1>
<ol type="1">
<li><b>Clone the repository</b></li>
</ol>
<div class="fragment"><div class="line">git clone https://github.com/WildandArt/HackerNewsAPI.git</div>
<div class="line">cd mini-hacker-news</div>
</div><!-- fragment --><ol type="1">
<li><p class="startli"><b>Install dependencies</b></p>
<p class="startli">Using Maven, you can install all required dependencies for the project:</p>
</li>
</ol>
<div class="fragment"><div class="line">mvn install</div>
</div><!-- fragment --><ol type="1">
<li><p class="startli"><b>Run the application</b></p>
<p class="startli">Once the dependencies are installed, you can run the application using:</p>
</li>
</ol>
<div class="fragment"><div class="line">mvn spring-boot:run</div>
</div><!-- fragment --><p>This will start the application on <a href="http://localhost:8080">http://localhost:8080</a>.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
API Usage</h1>
<p>Here are some examples of how you can interact with the API using curl:</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Create a Post</h2>
<div class="fragment"><div class="line">curl -X POST http://localhost:8081/posts \</div>
<div class="line">     -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">     -d &#39;{</div>
<div class="line">           &quot;userId&quot;: 1,</div>
<div class="line">           &quot;author&quot;: &quot;John Doe&quot;,</div>
<div class="line">           &quot;url&quot;: &quot;http://example.com/post&quot;,</div>
<div class="line">           &quot;title&quot;: &quot;My First Post&quot;</div>
<div class="line">         }&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Get Top Posts</h2>
<div class="fragment"><div class="line">curl http://localhost:8080/posts</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Update a Post</h2>
<div class="fragment"><div class="line">curl -X PUT http://localhost:8080/posts/&lt;ID&gt; \</div>
<div class="line">-H &quot;Content-Type: application/json&quot; \</div>
<div class="line">-d &#39;{&quot;content&quot;: &quot;Updated post content&quot;}&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md13"></a>
Upvote a Post</h2>
<div class="fragment"><div class="line">curl -X POST http://localhost:8080/posts/&lt;ID&gt;/upvote</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14"></a>
Downvote a Post</h2>
<div class="fragment"><div class="line">curl -X POST http://localhost:8080/posts/&lt;ID&gt;/downvote</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Database Schema</h1>
<p>Below is the schema used by the Mini Hacker News database:</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Cache Strategy:</h1>
<h3><a class="anchor" id="autotoc_md17"></a>
When GET is called, each post returning from GET can Cache Hit or Cache miss.</h3>
<h3><a class="anchor" id="autotoc_md18"></a>
If Cache Hit-&gt; fetch it from cache</h3>
<h3><a class="anchor" id="autotoc_md19"></a>
if Cache Miss-&gt;fetch from DB and add to cache.</h3>
<h3><a class="anchor" id="autotoc_md20"></a>
OPTION: When the cache entry is found but is slightly outdated due to changes in hoursAgo, return the cached value immediately and trigger an asynchronous update to the cache.</h3>
<h3><a class="anchor" id="autotoc_md21"></a>
also quick check if hoursAgo is in acceptable range, if yes pull from cache and update(cache and db) if unacceptable range, pull from db and update cache.</h3>
<h3><a class="anchor" id="autotoc_md22"></a>
autotoc_md22</h3>
<h3><a class="anchor" id="autotoc_md23"></a>
autotoc_md23</h3>
<h1><a class="anchor" id="autotoc_md24"></a>
Invalidation Strategy</h1>
<h3><a class="anchor" id="autotoc_md25"></a>
Case 1: Update of a post automatically updates the time of the creation of the post, which changes the score. fields: created_at and score should be updated in DB and (!!!)Cache if post_id exists in already Cache.</h3>
<h3><a class="anchor" id="autotoc_md26"></a>
Case 2: Upvote/Downvote changes the score. Update should be made to DB and in (!!!)Cache if exists in Cache.</h3>
<h1><a class="anchor" id="autotoc_md27"></a>
Testing:</h1>
<h1><a class="anchor" id="autotoc_md28"></a>
How to Use a Postman Collection JSON File</h1>
<h2><a class="anchor" id="autotoc_md29"></a>
1. Download the Collection JSON File</h2>
<ul>
<li>First, ensure you have the Postman collection JSON file saved to your local machine. You can access the Postman collection file <a href="Postman/HackerNewsAPI.postman_collection.json">here</a>. This file contains all the endpoints, requests, and configurations defined in the collection.</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
2. Importing the Collection into Postman</h2>
<ol type="1">
<li><b>Open Postman.</b></li>
<li>On the main interface, look for the <b>“Import”</b> button. This is usually located on the top left side of the app.</li>
<li>Click on <b>“Import.”</b></li>
<li>In the import dialog that appears, choose the <b>“Upload Files”</b> tab.</li>
<li>Click <b>“Choose Files”</b> or drag the JSON file directly into the import area.</li>
<li>Navigate to <code>HackerNewsAPI/Postman/HackerNewsAPI.postman_collection.json</code> and select it.</li>
<li>Once the file is selected, click <b>“Import”</b> to load the collection into Postman.</li>
</ol>
<h2><a class="anchor" id="autotoc_md31"></a>
3. Using the Imported Collection</h2>
<ul>
<li>After importing, the collection will appear in your **"Collections"** tab on the left sidebar.</li>
<li>Expand the collection to view all the requests, folders, and other configurations within it.</li>
<li>Click on any request to view its details, including the method, URL, headers, and body content.</li>
<li>You can now execute any of the requests by selecting them and clicking the <b>“Send”</b> button.</li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
4. Editing and Customizing the Collection</h2>
<ul>
<li>You can modify any request within the collection to suit your needs. This includes changing endpoints, parameters, headers, and body content.</li>
<li>If you need to add new requests, you can do so within the same collection by right-clicking the collection name and selecting **"Add Request."**</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
5. Running Tests and Pre-Scripts</h2>
<ul>
<li>If the collection includes tests or pre-request scripts, these will run automatically when you send the requests.</li>
<li>To view or edit these scripts, click on the <b>“Tests”</b> or <b>“Pre-request Script”</b> tab within the request.</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
6. Saving and Exporting Changes</h2>
<ul>
<li>After making changes to the collection, you can save your work by clicking the save button.</li>
<li>If you need to share your modified collection with others, you can export it by right-clicking the collection name, selecting <b>“Export,”</b> and choosing the format (usually JSON).</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
Contributing</h2>
<p>Contributions to the Mini Hacker News project are welcome! Please feel free to fork the repository, make your changes, and submit a pull request.</p>
<h2><a class="anchor" id="autotoc_md36"></a>
License</h2>
<p>This project is licensed under the MIT License </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
